if (active == false)
    return;
with (stacktop)
    1
if (alarm[0] > 0)
    return;
hp -= 10
alarm[0] = 10
sn = 170
