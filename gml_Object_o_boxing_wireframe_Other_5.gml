if (disable_surface == 1)
    return;
if surface
    surface
